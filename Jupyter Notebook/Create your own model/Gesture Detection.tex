\documentclass[11pt]{article}

    \usepackage[breakable]{tcolorbox}
    \usepackage{parskip} % Stop auto-indenting (to mimic markdown behaviour)
    
    \usepackage{iftex}
    \ifPDFTeX
    	\usepackage[T1]{fontenc}
    	\usepackage{mathpazo}
    \else
    	\usepackage{fontspec}
    \fi

    % Basic figure setup, for now with no caption control since it's done
    % automatically by Pandoc (which extracts ![](path) syntax from Markdown).
    \usepackage{graphicx}
    % Maintain compatibility with old templates. Remove in nbconvert 6.0
    \let\Oldincludegraphics\includegraphics
    % Ensure that by default, figures have no caption (until we provide a
    % proper Figure object with a Caption API and a way to capture that
    % in the conversion process - todo).
    \usepackage{caption}
    \DeclareCaptionFormat{nocaption}{}
    \captionsetup{format=nocaption,aboveskip=0pt,belowskip=0pt}

    \usepackage{float}
    \floatplacement{figure}{H} % forces figures to be placed at the correct location
    \usepackage{xcolor} % Allow colors to be defined
    \usepackage{enumerate} % Needed for markdown enumerations to work
    \usepackage{geometry} % Used to adjust the document margins
    \usepackage{amsmath} % Equations
    \usepackage{amssymb} % Equations
    \usepackage{textcomp} % defines textquotesingle
    % Hack from http://tex.stackexchange.com/a/47451/13684:
    \AtBeginDocument{%
        \def\PYZsq{\textquotesingle}% Upright quotes in Pygmentized code
    }
    \usepackage{upquote} % Upright quotes for verbatim code
    \usepackage{eurosym} % defines \euro
    \usepackage[mathletters]{ucs} % Extended unicode (utf-8) support
    \usepackage{fancyvrb} % verbatim replacement that allows latex
    \usepackage{grffile} % extends the file name processing of package graphics 
                         % to support a larger range
    \makeatletter % fix for old versions of grffile with XeLaTeX
    \@ifpackagelater{grffile}{2019/11/01}
    {
      % Do nothing on new versions
    }
    {
      \def\Gread@@xetex#1{%
        \IfFileExists{"\Gin@base".bb}%
        {\Gread@eps{\Gin@base.bb}}%
        {\Gread@@xetex@aux#1}%
      }
    }
    \makeatother
    \usepackage[Export]{adjustbox} % Used to constrain images to a maximum size
    \adjustboxset{max size={0.9\linewidth}{0.9\paperheight}}

    % The hyperref package gives us a pdf with properly built
    % internal navigation ('pdf bookmarks' for the table of contents,
    % internal cross-reference links, web links for URLs, etc.)
    \usepackage{hyperref}
    % The default LaTeX title has an obnoxious amount of whitespace. By default,
    % titling removes some of it. It also provides customization options.
    \usepackage{titling}
    \usepackage{longtable} % longtable support required by pandoc >1.10
    \usepackage{booktabs}  % table support for pandoc > 1.12.2
    \usepackage[inline]{enumitem} % IRkernel/repr support (it uses the enumerate* environment)
    \usepackage[normalem]{ulem} % ulem is needed to support strikethroughs (\sout)
                                % normalem makes italics be italics, not underlines
    \usepackage{mathrsfs}
    

    
    % Colors for the hyperref package
    \definecolor{urlcolor}{rgb}{0,.145,.698}
    \definecolor{linkcolor}{rgb}{.71,0.21,0.01}
    \definecolor{citecolor}{rgb}{.12,.54,.11}

    % ANSI colors
    \definecolor{ansi-black}{HTML}{3E424D}
    \definecolor{ansi-black-intense}{HTML}{282C36}
    \definecolor{ansi-red}{HTML}{E75C58}
    \definecolor{ansi-red-intense}{HTML}{B22B31}
    \definecolor{ansi-green}{HTML}{00A250}
    \definecolor{ansi-green-intense}{HTML}{007427}
    \definecolor{ansi-yellow}{HTML}{DDB62B}
    \definecolor{ansi-yellow-intense}{HTML}{B27D12}
    \definecolor{ansi-blue}{HTML}{208FFB}
    \definecolor{ansi-blue-intense}{HTML}{0065CA}
    \definecolor{ansi-magenta}{HTML}{D160C4}
    \definecolor{ansi-magenta-intense}{HTML}{A03196}
    \definecolor{ansi-cyan}{HTML}{60C6C8}
    \definecolor{ansi-cyan-intense}{HTML}{258F8F}
    \definecolor{ansi-white}{HTML}{C5C1B4}
    \definecolor{ansi-white-intense}{HTML}{A1A6B2}
    \definecolor{ansi-default-inverse-fg}{HTML}{FFFFFF}
    \definecolor{ansi-default-inverse-bg}{HTML}{000000}

    % common color for the border for error outputs.
    \definecolor{outerrorbackground}{HTML}{FFDFDF}

    % commands and environments needed by pandoc snippets
    % extracted from the output of `pandoc -s`
    \providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
    \DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
    % Add ',fontsize=\small' for more characters per line
    \newenvironment{Shaded}{}{}
    \newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.56,0.13,0.00}{{#1}}}
    \newcommand{\DecValTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\FloatTok}[1]{\textcolor[rgb]{0.25,0.63,0.44}{{#1}}}
    \newcommand{\CharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\StringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\CommentTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textit{{#1}}}}
    \newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{{#1}}}
    \newcommand{\AlertTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.02,0.16,0.49}{{#1}}}
    \newcommand{\RegionMarkerTok}[1]{{#1}}
    \newcommand{\ErrorTok}[1]{\textcolor[rgb]{1.00,0.00,0.00}{\textbf{{#1}}}}
    \newcommand{\NormalTok}[1]{{#1}}
    
    % Additional commands for more recent versions of Pandoc
    \newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.53,0.00,0.00}{{#1}}}
    \newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.25,0.44,0.63}{{#1}}}
    \newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.73,0.40,0.53}{{#1}}}
    \newcommand{\ImportTok}[1]{{#1}}
    \newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.73,0.13,0.13}{\textit{{#1}}}}
    \newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\VariableTok}[1]{\textcolor[rgb]{0.10,0.09,0.49}{{#1}}}
    \newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.44,0.13}{\textbf{{#1}}}}
    \newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.40,0.40,0.40}{{#1}}}
    \newcommand{\BuiltInTok}[1]{{#1}}
    \newcommand{\ExtensionTok}[1]{{#1}}
    \newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.74,0.48,0.00}{{#1}}}
    \newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.49,0.56,0.16}{{#1}}}
    \newcommand{\InformationTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    \newcommand{\WarningTok}[1]{\textcolor[rgb]{0.38,0.63,0.69}{\textbf{\textit{{#1}}}}}
    
    
    % Define a nice break command that doesn't care if a line doesn't already
    % exist.
    \def\br{\hspace*{\fill} \\* }
    % Math Jax compatibility definitions
    \def\gt{>}
    \def\lt{<}
    \let\Oldtex\TeX
    \let\Oldlatex\LaTeX
    \renewcommand{\TeX}{\textrm{\Oldtex}}
    \renewcommand{\LaTeX}{\textrm{\Oldlatex}}
    % Document parameters
    % Document title
    \title{Gesture Detection}
    
    
    
    
    
% Pygments definitions
\makeatletter
\def\PY@reset{\let\PY@it=\relax \let\PY@bf=\relax%
    \let\PY@ul=\relax \let\PY@tc=\relax%
    \let\PY@bc=\relax \let\PY@ff=\relax}
\def\PY@tok#1{\csname PY@tok@#1\endcsname}
\def\PY@toks#1+{\ifx\relax#1\empty\else%
    \PY@tok{#1}\expandafter\PY@toks\fi}
\def\PY@do#1{\PY@bc{\PY@tc{\PY@ul{%
    \PY@it{\PY@bf{\PY@ff{#1}}}}}}}
\def\PY#1#2{\PY@reset\PY@toks#1+\relax+\PY@do{#2}}

\@namedef{PY@tok@w}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.73,0.73}{##1}}}
\@namedef{PY@tok@c}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\@namedef{PY@tok@cp}{\def\PY@tc##1{\textcolor[rgb]{0.74,0.48,0.00}{##1}}}
\@namedef{PY@tok@k}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kp}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kt}{\def\PY@tc##1{\textcolor[rgb]{0.69,0.00,0.25}{##1}}}
\@namedef{PY@tok@o}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@ow}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\@namedef{PY@tok@nb}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@nf}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@nc}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@nn}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@ne}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.82,0.25,0.23}{##1}}}
\@namedef{PY@tok@nv}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@no}{\def\PY@tc##1{\textcolor[rgb]{0.53,0.00,0.00}{##1}}}
\@namedef{PY@tok@nl}{\def\PY@tc##1{\textcolor[rgb]{0.63,0.63,0.00}{##1}}}
\@namedef{PY@tok@ni}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.60,0.60,0.60}{##1}}}
\@namedef{PY@tok@na}{\def\PY@tc##1{\textcolor[rgb]{0.49,0.56,0.16}{##1}}}
\@namedef{PY@tok@nt}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@nd}{\def\PY@tc##1{\textcolor[rgb]{0.67,0.13,1.00}{##1}}}
\@namedef{PY@tok@s}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sd}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@si}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\@namedef{PY@tok@se}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.13}{##1}}}
\@namedef{PY@tok@sr}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.40,0.53}{##1}}}
\@namedef{PY@tok@ss}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@sx}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@m}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@gh}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\@namedef{PY@tok@gu}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.50,0.00,0.50}{##1}}}
\@namedef{PY@tok@gd}{\def\PY@tc##1{\textcolor[rgb]{0.63,0.00,0.00}{##1}}}
\@namedef{PY@tok@gi}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.63,0.00}{##1}}}
\@namedef{PY@tok@gr}{\def\PY@tc##1{\textcolor[rgb]{1.00,0.00,0.00}{##1}}}
\@namedef{PY@tok@ge}{\let\PY@it=\textit}
\@namedef{PY@tok@gs}{\let\PY@bf=\textbf}
\@namedef{PY@tok@gp}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,0.50}{##1}}}
\@namedef{PY@tok@go}{\def\PY@tc##1{\textcolor[rgb]{0.53,0.53,0.53}{##1}}}
\@namedef{PY@tok@gt}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.27,0.87}{##1}}}
\@namedef{PY@tok@err}{\def\PY@bc##1{{\setlength{\fboxsep}{\string -\fboxrule}\fcolorbox[rgb]{1.00,0.00,0.00}{1,1,1}{\strut ##1}}}}
\@namedef{PY@tok@kc}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kd}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kn}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@kr}{\let\PY@bf=\textbf\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@bp}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.50,0.00}{##1}}}
\@namedef{PY@tok@fm}{\def\PY@tc##1{\textcolor[rgb]{0.00,0.00,1.00}{##1}}}
\@namedef{PY@tok@vc}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@vg}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@vi}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@vm}{\def\PY@tc##1{\textcolor[rgb]{0.10,0.09,0.49}{##1}}}
\@namedef{PY@tok@sa}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sb}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sc}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@dl}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@s2}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@sh}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@s1}{\def\PY@tc##1{\textcolor[rgb]{0.73,0.13,0.13}{##1}}}
\@namedef{PY@tok@mb}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mf}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mh}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mi}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@il}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@mo}{\def\PY@tc##1{\textcolor[rgb]{0.40,0.40,0.40}{##1}}}
\@namedef{PY@tok@ch}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\@namedef{PY@tok@cm}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\@namedef{PY@tok@cpf}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\@namedef{PY@tok@c1}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}
\@namedef{PY@tok@cs}{\let\PY@it=\textit\def\PY@tc##1{\textcolor[rgb]{0.25,0.50,0.50}{##1}}}

\def\PYZbs{\char`\\}
\def\PYZus{\char`\_}
\def\PYZob{\char`\{}
\def\PYZcb{\char`\}}
\def\PYZca{\char`\^}
\def\PYZam{\char`\&}
\def\PYZlt{\char`\<}
\def\PYZgt{\char`\>}
\def\PYZsh{\char`\#}
\def\PYZpc{\char`\%}
\def\PYZdl{\char`\$}
\def\PYZhy{\char`\-}
\def\PYZsq{\char`\'}
\def\PYZdq{\char`\"}
\def\PYZti{\char`\~}
% for compatibility with earlier versions
\def\PYZat{@}
\def\PYZlb{[}
\def\PYZrb{]}
\makeatother


    % For linebreaks inside Verbatim environment from package fancyvrb. 
    \makeatletter
        \newbox\Wrappedcontinuationbox 
        \newbox\Wrappedvisiblespacebox 
        \newcommand*\Wrappedvisiblespace {\textcolor{red}{\textvisiblespace}} 
        \newcommand*\Wrappedcontinuationsymbol {\textcolor{red}{\llap{\tiny$\m@th\hookrightarrow$}}} 
        \newcommand*\Wrappedcontinuationindent {3ex } 
        \newcommand*\Wrappedafterbreak {\kern\Wrappedcontinuationindent\copy\Wrappedcontinuationbox} 
        % Take advantage of the already applied Pygments mark-up to insert 
        % potential linebreaks for TeX processing. 
        %        {, <, #, %, $, ' and ": go to next line. 
        %        _, }, ^, &, >, - and ~: stay at end of broken line. 
        % Use of \textquotesingle for straight quote. 
        \newcommand*\Wrappedbreaksatspecials {% 
            \def\PYGZus{\discretionary{\char`\_}{\Wrappedafterbreak}{\char`\_}}% 
            \def\PYGZob{\discretionary{}{\Wrappedafterbreak\char`\{}{\char`\{}}% 
            \def\PYGZcb{\discretionary{\char`\}}{\Wrappedafterbreak}{\char`\}}}% 
            \def\PYGZca{\discretionary{\char`\^}{\Wrappedafterbreak}{\char`\^}}% 
            \def\PYGZam{\discretionary{\char`\&}{\Wrappedafterbreak}{\char`\&}}% 
            \def\PYGZlt{\discretionary{}{\Wrappedafterbreak\char`\<}{\char`\<}}% 
            \def\PYGZgt{\discretionary{\char`\>}{\Wrappedafterbreak}{\char`\>}}% 
            \def\PYGZsh{\discretionary{}{\Wrappedafterbreak\char`\#}{\char`\#}}% 
            \def\PYGZpc{\discretionary{}{\Wrappedafterbreak\char`\%}{\char`\%}}% 
            \def\PYGZdl{\discretionary{}{\Wrappedafterbreak\char`\$}{\char`\$}}% 
            \def\PYGZhy{\discretionary{\char`\-}{\Wrappedafterbreak}{\char`\-}}% 
            \def\PYGZsq{\discretionary{}{\Wrappedafterbreak\textquotesingle}{\textquotesingle}}% 
            \def\PYGZdq{\discretionary{}{\Wrappedafterbreak\char`\"}{\char`\"}}% 
            \def\PYGZti{\discretionary{\char`\~}{\Wrappedafterbreak}{\char`\~}}% 
        } 
        % Some characters . , ; ? ! / are not pygmentized. 
        % This macro makes them "active" and they will insert potential linebreaks 
        \newcommand*\Wrappedbreaksatpunct {% 
            \lccode`\~`\.\lowercase{\def~}{\discretionary{\hbox{\char`\.}}{\Wrappedafterbreak}{\hbox{\char`\.}}}% 
            \lccode`\~`\,\lowercase{\def~}{\discretionary{\hbox{\char`\,}}{\Wrappedafterbreak}{\hbox{\char`\,}}}% 
            \lccode`\~`\;\lowercase{\def~}{\discretionary{\hbox{\char`\;}}{\Wrappedafterbreak}{\hbox{\char`\;}}}% 
            \lccode`\~`\:\lowercase{\def~}{\discretionary{\hbox{\char`\:}}{\Wrappedafterbreak}{\hbox{\char`\:}}}% 
            \lccode`\~`\?\lowercase{\def~}{\discretionary{\hbox{\char`\?}}{\Wrappedafterbreak}{\hbox{\char`\?}}}% 
            \lccode`\~`\!\lowercase{\def~}{\discretionary{\hbox{\char`\!}}{\Wrappedafterbreak}{\hbox{\char`\!}}}% 
            \lccode`\~`\/\lowercase{\def~}{\discretionary{\hbox{\char`\/}}{\Wrappedafterbreak}{\hbox{\char`\/}}}% 
            \catcode`\.\active
            \catcode`\,\active 
            \catcode`\;\active
            \catcode`\:\active
            \catcode`\?\active
            \catcode`\!\active
            \catcode`\/\active 
            \lccode`\~`\~ 	
        }
    \makeatother

    \let\OriginalVerbatim=\Verbatim
    \makeatletter
    \renewcommand{\Verbatim}[1][1]{%
        %\parskip\z@skip
        \sbox\Wrappedcontinuationbox {\Wrappedcontinuationsymbol}%
        \sbox\Wrappedvisiblespacebox {\FV@SetupFont\Wrappedvisiblespace}%
        \def\FancyVerbFormatLine ##1{\hsize\linewidth
            \vtop{\raggedright\hyphenpenalty\z@\exhyphenpenalty\z@
                \doublehyphendemerits\z@\finalhyphendemerits\z@
                \strut ##1\strut}%
        }%
        % If the linebreak is at a space, the latter will be displayed as visible
        % space at end of first line, and a continuation symbol starts next line.
        % Stretch/shrink are however usually zero for typewriter font.
        \def\FV@Space {%
            \nobreak\hskip\z@ plus\fontdimen3\font minus\fontdimen4\font
            \discretionary{\copy\Wrappedvisiblespacebox}{\Wrappedafterbreak}
            {\kern\fontdimen2\font}%
        }%
        
        % Allow breaks at special characters using \PYG... macros.
        \Wrappedbreaksatspecials
        % Breaks at punctuation characters . , ; ? ! and / need catcode=\active 	
        \OriginalVerbatim[#1,codes*=\Wrappedbreaksatpunct]%
    }
    \makeatother

    % Exact colors from NB
    \definecolor{incolor}{HTML}{303F9F}
    \definecolor{outcolor}{HTML}{D84315}
    \definecolor{cellborder}{HTML}{CFCFCF}
    \definecolor{cellbackground}{HTML}{F7F7F7}
    
    % prompt
    \makeatletter
    \newcommand{\boxspacing}{\kern\kvtcb@left@rule\kern\kvtcb@boxsep}
    \makeatother
    \newcommand{\prompt}[4]{
        {\ttfamily\llap{{\color{#2}[#3]:\hspace{3pt}#4}}\vspace{-\baselineskip}}
    }
    

    
    % Prevent overflowing lines due to hard-to-break entities
    \sloppy 
    % Setup hyperref package
    \hypersetup{
      breaklinks=true,  % so long urls are correctly broken across lines
      colorlinks=true,
      urlcolor=urlcolor,
      linkcolor=linkcolor,
      citecolor=citecolor,
      }
    % Slightly bigger margins than the latex defaults
    
    \geometry{verbose,tmargin=1in,bmargin=1in,lmargin=1in,rmargin=1in}
    
    

\begin{document}
    
    \maketitle
    
    

    
    \hypertarget{instrukcja-przedstawiajux105ca-proces-uczenia-modelu-rozpoznajux105cego-dowolne-gesty-dux142oni.}{%
\subsection{Instrukcja przedstawiająca proces uczenia modelu
rozpoznającego dowolne gesty
dłoni.}\label{instrukcja-przedstawiajux105ca-proces-uczenia-modelu-rozpoznajux105cego-dowolne-gesty-dux142oni.}}

    \hypertarget{rysowanie-dux142oni}{%
\section{1. Rysowanie Dłoni}\label{rysowanie-dux142oni}}

Rozpoznawanie dłoni polega na wyznaczeniu pozycji elementów
charakterystycznych dłoni. W sumie można ich wyznaczyć 21. Są to między
innymi stawy, nadgarstek lub końcówki palców. Współrzędne są obliczne
względem lewego górnego rogu obrazu kamery.

Rozpoczynamy od zaimportowania odpowiednich bibliotek.

OpenCV pozowli na przeprowadzenie wstępnych przekształceń obrazu, w taki
sposób, aby biblioteka MediaPipe mogła poprawnie rozpoznać dłoń oraz jej
elementy charakterystyczne.

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{15}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{import} \PY{n+nn}{mediapipe} \PY{k}{as} \PY{n+nn}{mp}
\PY{k+kn}{import} \PY{n+nn}{cv2}
\PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
\end{Verbatim}
\end{tcolorbox}

    Wybieramy dwa obiekty klasy mp.solutions:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  mp\_drawing - pozowli na naniesienie punktów na elementy
  charakterystyczne dłoni oraz linii ich łączących.
\item
  mp\_hands - zostanie wykorzystany do rozpoznania dłoni z wybraną
  dokładnością.
\end{enumerate}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{16}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{mp\PYZus{}drawing} \PY{o}{=} \PY{n}{mp}\PY{o}{.}\PY{n}{solutions}\PY{o}{.}\PY{n}{drawing\PYZus{}utils}
\PY{n}{mp\PYZus{}hands} \PY{o}{=} \PY{n}{mp}\PY{o}{.}\PY{n}{solutions}\PY{o}{.}\PY{n}{hands}
\end{Verbatim}
\end{tcolorbox}

    Wstępne ropoznanie dłoni i naniesienie grafiki na obraz pobrany z
kamery.

    \hypertarget{zapis-pozycji-elementuxf3w-charakterystycznych-do-pliku-csv}{%
\section{2. Zapis pozycji elementów charakterystycznych do pliku
CSV}\label{zapis-pozycji-elementuxf3w-charakterystycznych-do-pliku-csv}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{17}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{import} \PY{n+nn}{csv}
\PY{k+kn}{import} \PY{n+nn}{os}
\PY{k+kn}{import} \PY{n+nn}{numpy} \PY{k}{as} \PY{n+nn}{np}
\end{Verbatim}
\end{tcolorbox}

    Tworzymy oznaczenia kolumn (klasy, współrzędne)

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{18}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{landmarks} \PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{class}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\PY{k}{for} \PY{n}{val} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{l+m+mi}{21}\PY{p}{)}\PY{p}{:}
    \PY{n}{landmarks} \PY{o}{+}\PY{o}{=} \PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{x}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{val}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{y}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{val}\PY{p}{)}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{z}\PY{l+s+si}{\PYZob{}\PYZcb{}}\PY{l+s+s1}{\PYZsq{}}\PY{o}{.}\PY{n}{format}\PY{p}{(}\PY{n}{val}\PY{p}{)}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{6}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{landmarks}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{6}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
['class',
 'x0',
 'y0',
 'z0',
 'x1',
 'y1',
 'z1',
 'x2',
 'y2',
 'z2',
 'x3',
 'y3',
 'z3',
 'x4',
 'y4',
 'z4',
 'x5',
 'y5',
 'z5',
 'x6',
 'y6',
 'z6',
 'x7',
 'y7',
 'z7',
 'x8',
 'y8',
 'z8',
 'x9',
 'y9',
 'z9',
 'x10',
 'y10',
 'z10',
 'x11',
 'y11',
 'z11',
 'x12',
 'y12',
 'z12',
 'x13',
 'y13',
 'z13',
 'x14',
 'y14',
 'z14',
 'x15',
 'y15',
 'z15',
 'x16',
 'y16',
 'z16',
 'x17',
 'y17',
 'z17',
 'x18',
 'y18',
 'z18',
 'x19',
 'y19',
 'z19',
 'x20',
 'y20',
 'z20']
\end{Verbatim}
\end{tcolorbox}
        
    Tworzymy plik CSV i zapisujemy do niego oznaczenia kolumn.

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{19}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{FILE\PYZus{}NAME}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{wrist\PYZus{}normalized\PYZus{}positions.csv}\PY{l+s+s1}{\PYZsq{}}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{20}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{n}{FILE\PYZus{}NAME}\PY{p}{,} \PY{n}{mode}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{w}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{newline}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
    \PY{n}{csv\PYZus{}writer} \PY{o}{=} \PY{n}{csv}\PY{o}{.}\PY{n}{writer}\PY{p}{(}\PY{n}{f}\PY{p}{,} \PY{n}{delimiter}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{quotechar}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{quoting}\PY{o}{=}\PY{n}{csv}\PY{o}{.}\PY{n}{QUOTE\PYZus{}MINIMAL}\PY{p}{)}
    \PY{n}{csv\PYZus{}writer}\PY{o}{.}\PY{n}{writerow}\PY{p}{(}\PY{n}{landmarks}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    Tworzymy zmienną \textbf{class\_name}, która będzie przechowywała
informację o aktualnie przechwytywanym geście. W momencie rozpoczęcia
tej części programu, będziemy zapisywać wszystkie współrzędne elementów
charakterystycznych dla wybranego gestu.

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{23}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{class\PYZus{}name}\PY{o}{=}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{fist}\PY{l+s+s2}{\PYZdq{}}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{24}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{cap} \PY{o}{=} \PY{n}{cv2}\PY{o}{.}\PY{n}{VideoCapture}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}

\PY{n}{detections} \PY{o}{=} \PY{l+m+mi}{0}
\PY{k}{with} \PY{n}{mp\PYZus{}hands}\PY{o}{.}\PY{n}{Hands}\PY{p}{(}\PY{n}{min\PYZus{}detection\PYZus{}confidence}\PY{o}{=}\PY{l+m+mf}{0.8}\PY{p}{,} \PY{n}{min\PYZus{}tracking\PYZus{}confidence}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{)} \PY{k}{as} \PY{n}{hands}\PY{p}{:}
    \PY{k}{while} \PY{n}{cap}\PY{o}{.}\PY{n}{isOpened}\PY{p}{(}\PY{p}{)}\PY{p}{:}
        \PY{n}{ret}\PY{p}{,} \PY{n}{frame} \PY{o}{=} \PY{n}{cap}\PY{o}{.}\PY{n}{read}\PY{p}{(}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}BGR to RGB}
        \PY{n}{image} \PY{o}{=} \PY{n}{cv2}\PY{o}{.}\PY{n}{cvtColor}\PY{p}{(}\PY{n}{frame}\PY{p}{,} \PY{n}{cv2}\PY{o}{.}\PY{n}{COLOR\PYZus{}BGR2RGB}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}Flip horizontal}
        \PY{n}{image} \PY{o}{=} \PY{n}{cv2}\PY{o}{.}\PY{n}{flip}\PY{p}{(}\PY{n}{image}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}Set flag}
        \PY{n}{image}\PY{o}{.}\PY{n}{flags}\PY{o}{.}\PY{n}{writeable} \PY{o}{=} \PY{k+kc}{False}
        
        \PY{c+c1}{\PYZsh{}Detections}
        \PY{n}{results} \PY{o}{=} \PY{n}{hands}\PY{o}{.}\PY{n}{process}\PY{p}{(}\PY{n}{image}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}Set flag back to True}
        \PY{n}{image}\PY{o}{.}\PY{n}{flags}\PY{o}{.}\PY{n}{writeable} \PY{o}{=} \PY{k+kc}{True}
        
        \PY{c+c1}{\PYZsh{}RGB to BGR}
        \PY{n}{image} \PY{o}{=} \PY{n}{cv2}\PY{o}{.}\PY{n}{cvtColor}\PY{p}{(}\PY{n}{image}\PY{p}{,} \PY{n}{cv2}\PY{o}{.}\PY{n}{COLOR\PYZus{}RGB2BGR}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}print(results)}
        
        \PY{c+c1}{\PYZsh{}Rendering results}
        \PY{k}{if} \PY{n}{results}\PY{o}{.}\PY{n}{multi\PYZus{}hand\PYZus{}landmarks}\PY{p}{:}
            \PY{k}{for} \PY{n}{num}\PY{p}{,} \PY{n}{hand} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{results}\PY{o}{.}\PY{n}{multi\PYZus{}hand\PYZus{}landmarks}\PY{p}{)}\PY{p}{:}
                \PY{n}{mp\PYZus{}drawing}\PY{o}{.}\PY{n}{draw\PYZus{}landmarks}\PY{p}{(}\PY{n}{image}\PY{p}{,} \PY{n}{hand}\PY{p}{,} \PY{n}{mp\PYZus{}hands}\PY{o}{.}\PY{n}{HAND\PYZus{}CONNECTIONS}\PY{p}{,} 
                                         \PY{n}{mp\PYZus{}drawing}\PY{o}{.}\PY{n}{DrawingSpec}\PY{p}{(}\PY{n}{color}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{255}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{)}\PY{p}{,} \PY{n}{thickness}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{,} \PY{n}{circle\PYZus{}radius}\PY{o}{=}\PY{l+m+mi}{4}\PY{p}{)}\PY{p}{,} 
                                         \PY{n}{mp\PYZus{}drawing}\PY{o}{.}\PY{n}{DrawingSpec}\PY{p}{(}\PY{n}{color}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{255}\PY{p}{)}\PY{p}{,} \PY{n}{thickness}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{,} \PY{n}{circle\PYZus{}radius}\PY{o}{=}\PY{l+m+mi}{4}\PY{p}{)}\PY{p}{)}
                
        \PY{k}{try}\PY{p}{:}
            \PY{n}{hand\PYZus{}landmarks} \PY{o}{=} \PY{n}{results}\PY{o}{.}\PY{n}{multi\PYZus{}hand\PYZus{}landmarks}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{.}\PY{n}{landmark}
            \PY{n}{wrist} \PY{o}{=} \PY{n}{hand\PYZus{}landmarks}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
                
            \PY{c+c1}{\PYZsh{}Układ współrzędny ustawiamy względem pozycji nadgarstka}
            \PY{n}{hand\PYZus{}landmarks\PYZus{}row} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{zeros}\PY{p}{(}\PY{p}{(}\PY{l+m+mi}{20}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{)}\PY{p}{)}
            \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{n+nb}{len}\PY{p}{(}\PY{n}{hand\PYZus{}landmarks}\PY{p}{)}\PY{p}{)}\PY{p}{:}
                \PY{n}{hand\PYZus{}landmarks\PYZus{}row}\PY{p}{[}\PY{n}{i}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{=}\PY{p}{[}\PY{n}{hand\PYZus{}landmarks}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{x}\PY{o}{\PYZhy{}}\PY{n}{wrist}\PY{o}{.}\PY{n}{x}\PY{p}{,} \PY{n}{hand\PYZus{}landmarks}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{y}\PY{o}{\PYZhy{}}\PY{n}{wrist}\PY{o}{.}\PY{n}{y}\PY{p}{,} \PY{n}{hand\PYZus{}landmarks}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{z}\PY{o}{\PYZhy{}}\PY{n}{wrist}\PY{o}{.}\PY{n}{z}\PY{p}{]}

            \PY{c+c1}{\PYZsh{} Zebraną macierz danych przekształcamy w wektor i normalizujemy względem największej co do wartości bezwględnej liczby.}
            \PY{n}{hand\PYZus{}landmarks\PYZus{}row} \PY{o}{=} \PY{n}{hand\PYZus{}landmarks\PYZus{}row}\PY{o}{.}\PY{n}{flatten}\PY{p}{(}\PY{p}{)}
            \PY{n}{hand\PYZus{}landmarks\PYZus{}row} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n}{hand\PYZus{}landmarks\PYZus{}row}\PY{o}{/}\PY{n}{np}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{absolute}\PY{p}{(}\PY{n}{hand\PYZus{}landmarks\PYZus{}row}\PY{p}{)}\PY{p}{)}\PY{p}{)}
            
            \PY{n}{hand\PYZus{}landmarks\PYZus{}row}\PY{o}{.}\PY{n}{insert}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,} \PY{n}{class\PYZus{}name}\PY{p}{)}
            
            
            \PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{n}{FILE\PYZus{}NAME}\PY{p}{,} \PY{n}{mode}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{a}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{newline}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
                \PY{n}{csv\PYZus{}writer} \PY{o}{=} \PY{n}{csv}\PY{o}{.}\PY{n}{writer}\PY{p}{(}\PY{n}{f}\PY{p}{,} \PY{n}{delimiter}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{,}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{quotechar}\PY{o}{=}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{\PYZdq{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{quoting}\PY{o}{=}\PY{n}{csv}\PY{o}{.}\PY{n}{QUOTE\PYZus{}MINIMAL}\PY{p}{)}
                \PY{n}{csv\PYZus{}writer}\PY{o}{.}\PY{n}{writerow}\PY{p}{(}\PY{n}{hand\PYZus{}landmarks\PYZus{}row}\PY{p}{)}
                \PY{n}{detections} \PY{o}{+}\PY{o}{=} \PY{l+m+mi}{1}
        \PY{k}{except}\PY{p}{:}
            \PY{k}{pass}
        
        \PY{k}{if} \PY{n}{detections} \PY{o}{==} \PY{l+m+mi}{500}\PY{p}{:}
            \PY{k}{break}

        \PY{n}{cv2}\PY{o}{.}\PY{n}{imshow}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Gesture Training}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{image}\PY{p}{)}

        \PY{k}{if} \PY{n}{cv2}\PY{o}{.}\PY{n}{waitKey}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)} \PY{o}{\PYZam{}} \PY{l+m+mh}{0xFF} \PY{o}{==} \PY{n+nb}{ord}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{q}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{:}
            \PY{k}{break}

    \PY{n}{cap}\PY{o}{.}\PY{n}{release}\PY{p}{(}\PY{p}{)}
    \PY{n}{cv2}\PY{o}{.}\PY{n}{destroyAllWindows}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{13}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{len}\PY{p}{(}\PY{n}{hand\PYZus{}landmarks\PYZus{}row}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{13}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
61
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{trening-modeli-z-wykorzystaniem-scikit-learn}{%
\section{3. Trening modeli z wykorzystaniem Scikit
Learn}\label{trening-modeli-z-wykorzystaniem-scikit-learn}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{25}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{import} \PY{n+nn}{pandas} \PY{k}{as} \PY{n+nn}{pd}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{model\PYZus{}selection} \PY{k+kn}{import} \PY{n}{train\PYZus{}test\PYZus{}split}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{26}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{read\PYZus{}csv}\PY{p}{(}\PY{n}{FILE\PYZus{}NAME}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{27}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df}\PY{o}{.}\PY{n}{head}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{27}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
  class        x1        y1        z1        x2        y2        z2        x3  \textbackslash{}
0  open -0.145129 -0.031657 -0.049891 -0.286565 -0.135506 -0.097751 -0.407040
1  open -0.151966 -0.068719 -0.026542 -0.290023 -0.175108 -0.063248 -0.402538
2  open -0.154023 -0.072011 -0.026425 -0.297388 -0.179660 -0.059356 -0.415849
3  open -0.150740 -0.071340 -0.024960 -0.290231 -0.179649 -0.054728 -0.404190
4  open -0.150375 -0.071224 -0.023871 -0.290663 -0.183199 -0.050535 -0.404244

         y3        z3  {\ldots}       z17       x18       y18       z18       x19  \textbackslash{}
0 -0.201005 -0.149839  {\ldots} -0.205701  0.159795 -0.580274 -0.275263  0.189066
1 -0.247342 -0.109925  {\ldots} -0.159945  0.108089 -0.620367 -0.205653  0.132412
2 -0.253713 -0.101513  {\ldots} -0.151207  0.098926 -0.627229 -0.193536  0.121643
3 -0.255424 -0.093624  {\ldots} -0.144194  0.091754 -0.626092 -0.185198  0.116435
4 -0.263047 -0.086115  {\ldots} -0.135458  0.088946 -0.630362 -0.174885  0.112889

        y19       z19       x20       y20       z20
0 -0.703311 -0.308286  0.210130 -0.816663 -0.331339
1 -0.729752 -0.228523  0.146252 -0.832854 -0.245732
2 -0.740013 -0.214478  0.133588 -0.843611 -0.229912
3 -0.734410 -0.205761  0.132213 -0.836915 -0.220996
4 -0.737980 -0.195269  0.128409 -0.839018 -0.210178

[5 rows x 61 columns]
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{28}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{df}\PY{o}{.}\PY{n}{tail}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{28}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
    class        x1        y1        z1        x2        y2        z2  \textbackslash{}
995  fist  0.417932  0.088436 -0.096360  0.754135  0.081900 -0.278739
996  fist  0.410915  0.088109 -0.095302  0.750889  0.084176 -0.285430
997  fist  0.399111  0.052180 -0.072884  0.725338  0.011546 -0.232225
998  fist  0.354725  0.042709 -0.087128  0.651962 -0.010755 -0.238476
999  fist  0.299697  0.037428 -0.101292  0.582615 -0.038480 -0.222069

           x3        y3        z3  {\ldots}       z17       x18       y18  \textbackslash{}
995  0.810148  0.095274 -0.468271  {\ldots} -0.652607  0.035596 -0.159826
996  0.798059  0.098386 -0.482713  {\ldots} -0.672379 -0.013507 -0.137151
997  0.794225  0.001789 -0.402805  {\ldots} -0.589324  0.070717 -0.197640
998  0.700747 -0.045856 -0.395376  {\ldots} -0.528639  0.029000 -0.307909
999  0.612825 -0.135910 -0.341066  {\ldots} -0.383005 -0.023773 -0.561991

          z18       x19       y19       z19       x20       y20       z20
995 -0.710277 -0.008996 -0.091264 -0.649022 -0.029721 -0.301096 -0.617818
996 -0.725778 -0.055338 -0.076488 -0.662481 -0.080464 -0.289736 -0.633149
997 -0.637126  0.018903 -0.127941 -0.574709 -0.011059 -0.321808 -0.541439
998 -0.575988  0.002703 -0.200245 -0.523472 -0.014184 -0.351851 -0.495351
999 -0.403550 -0.014028 -0.378816 -0.363341 -0.017701 -0.445063 -0.339712

[5 rows x 61 columns]
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{29}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{x} \PY{o}{=} \PY{n}{df}\PY{o}{.}\PY{n}{drop}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{class}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{n}{axis}\PY{o}{=}\PY{l+m+mi}{1}\PY{p}{)}
\PY{n}{y} \PY{o}{=} \PY{n}{df}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{class}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{20}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{x}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{20}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
           x0        y0        z0        x1        y1        z1        x2  \textbackslash{}
0   -0.355147 -0.032142 -0.059415 -0.711971 -0.267873 -0.109290 -0.874771
1   -0.348118 -0.111412 -0.044334 -0.660333 -0.349064 -0.082020 -0.800372
2   -0.329805 -0.072463 -0.088667 -0.663210 -0.325190 -0.132609 -0.803425
3   -0.325644 -0.042529 -0.107411 -0.676567 -0.321084 -0.150288 -0.814076
4   -0.313416  0.001278 -0.142923 -0.684182 -0.310132 -0.206950 -0.829213
..        {\ldots}       {\ldots}       {\ldots}       {\ldots}       {\ldots}       {\ldots}       {\ldots}
995 -0.108496 -0.131669  0.002777 -0.168349 -0.302872 -0.015401 -0.222697
996 -0.109571 -0.134762  0.002793 -0.166234 -0.300893 -0.014064 -0.215698
997 -0.105325 -0.140384  0.010819 -0.158385 -0.308314 -0.002116 -0.205401
998 -0.104438 -0.145411  0.015083 -0.157658 -0.315324  0.005441 -0.202828
999 -0.107509 -0.147371  0.014984 -0.166582 -0.319206  0.005130 -0.210805

           y2        z2        x3  {\ldots}       z17       x18       y18  \textbackslash{}
0   -0.585776 -0.176378 -0.785738  {\ldots} -0.393786 -0.043493 -0.688421
1   -0.661933 -0.143653 -0.747354  {\ldots} -0.255892 -0.075983 -0.732788
2   -0.668499 -0.187836 -0.712904  {\ldots} -0.199188 -0.045779 -0.747948
3   -0.679980 -0.198461 -0.704761  {\ldots} -0.184859 -0.029472 -0.726842
4   -0.674107 -0.266548 -0.701651  {\ldots} -0.159237 -0.020853 -0.702601
..        {\ldots}       {\ldots}       {\ldots}  {\ldots}       {\ldots}       {\ldots}       {\ldots}
995 -0.451654 -0.037590 -0.285287  {\ldots} -0.167540  0.353134 -0.512154
996 -0.450004 -0.033814 -0.275328  {\ldots} -0.158413  0.352931 -0.524204
997 -0.458247 -0.018558 -0.264543  {\ldots} -0.151300  0.360903 -0.518527
998 -0.469660 -0.008486 -0.254065  {\ldots} -0.143496  0.355707 -0.519447
999 -0.479064 -0.008576 -0.255600  {\ldots} -0.139967  0.345722 -0.522866

          z18       x19       y19       z19  x20  y20  z20
0   -0.343707  0.005121 -0.648451 -0.273109  NaN  NaN  NaN
1   -0.215074 -0.006075 -0.691734 -0.159024  NaN  NaN  NaN
2   -0.160437  0.007321 -0.682202 -0.100647  NaN  NaN  NaN
3   -0.146908  0.026971 -0.658891 -0.085273  NaN  NaN  NaN
4   -0.111857  0.025162 -0.645926 -0.039078  NaN  NaN  NaN
..        {\ldots}       {\ldots}       {\ldots}       {\ldots}  {\ldots}  {\ldots}  {\ldots}
995 -0.182570  0.402230 -0.577371 -0.193260  NaN  NaN  NaN
996 -0.171414  0.397086 -0.590246 -0.180486  NaN  NaN  NaN
997 -0.162096  0.404405 -0.581302 -0.170278  NaN  NaN  NaN
998 -0.152268  0.400174 -0.579451 -0.158444  NaN  NaN  NaN
999 -0.145458  0.382965 -0.580134 -0.147861  NaN  NaN  NaN

[1000 rows x 63 columns]
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{21}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{y}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{21}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
0      fist
1      fist
2      fist
3      fist
4      fist
       {\ldots}
995    open
996    open
997    open
998    open
999    open
Name: class, Length: 1000, dtype: object
\end{Verbatim}
\end{tcolorbox}
        
    Wszystkie pobrane dane dzielimy na dwie części, pierwsza posłuży do
trenowania, druga do testwowania.

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{30}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{x\PYZus{}train}\PY{p}{,} \PY{n}{x\PYZus{}test}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}test} \PY{o}{=} \PY{n}{train\PYZus{}test\PYZus{}split}\PY{p}{(}\PY{n}{x}\PY{p}{,} \PY{n}{y}\PY{p}{,} \PY{n}{test\PYZus{}size}\PY{o}{=}\PY{l+m+mf}{0.3}\PY{p}{,} \PY{n}{random\PYZus{}state}\PY{o}{=}\PY{l+m+mi}{3451}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{23}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n+nb}{type}\PY{p}{(}\PY{n}{y\PYZus{}train}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{23}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
pandas.core.series.Series
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{11}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{x\PYZus{}train}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{11}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
           x0        y0        z0        x1        y1        z1        x2  \textbackslash{}
295 -0.292044 -0.045307 -0.120753 -0.601194 -0.340314 -0.181280 -0.689188
296 -0.266880 -0.011237 -0.156898 -0.577938 -0.334095 -0.237343 -0.670003
117  0.136355 -0.344878  0.064587  0.131343 -0.682229  0.061997  0.023484
422  0.293701 -0.244369  0.132324  0.350801 -0.523015  0.171205  0.223739
569 -0.091890 -0.184264  0.010634 -0.118926 -0.414225  0.008861 -0.106391
..        {\ldots}       {\ldots}       {\ldots}       {\ldots}       {\ldots}       {\ldots}       {\ldots}
456  0.275047 -0.163213 -0.015345  0.462741 -0.415370 -0.042566  0.502899
97  -0.350041 -0.080015  0.042218 -0.576590 -0.272303  0.052587 -0.666904
150  0.240303  0.165247 -0.388521  0.543414  0.099620 -0.583327  0.797213
654 -0.128641 -0.119461 -0.018614 -0.230274 -0.287478 -0.038325 -0.305148
95  -0.310046  0.055653 -0.150592 -0.695671 -0.121819 -0.202166 -0.907515

           y2        z2        x3  {\ldots}       z17       x18       y18  \textbackslash{}
295 -0.715878 -0.249059 -0.514983  {\ldots} -0.156124  0.086355 -0.725097
296 -0.685700 -0.313390 -0.500107  {\ldots} -0.244575  0.114456 -0.661679
117 -0.888441  0.044076 -0.080605  {\ldots} -0.144917 -0.392129 -0.418296
422 -0.682709  0.183194  0.075970  {\ldots} -0.063056 -0.292071 -0.498660
569 -0.574150 -0.006241 -0.102249  {\ldots} -0.112552 -0.024978 -0.535783
..        {\ldots}       {\ldots}       {\ldots}  {\ldots}       {\ldots}       {\ldots}       {\ldots}
456 -0.664704 -0.094929  0.381717  {\ldots} -0.233755  0.109718 -0.758664
97  -0.540706  0.013732 -0.616325  {\ldots} -0.135026 -0.169884 -0.804405
150 -0.105692 -0.665089  1.000000  {\ldots} -0.257261  0.607581 -0.632273
654 -0.425181 -0.068415 -0.376470  {\ldots} -0.149520  0.266449 -0.638252
95  -0.463460 -0.249841 -0.818008  {\ldots} -0.075658 -0.133305 -0.760121

          z18       x19       y19       z19  x20  y20  z20
295 -0.114633  0.102864 -0.587833 -0.052388  NaN  NaN  NaN
296 -0.201599  0.128727 -0.552241 -0.131925  NaN  NaN  NaN
117 -0.109947 -0.337065 -0.337305 -0.087502  NaN  NaN  NaN
422 -0.027513 -0.253113 -0.399806 -0.017275  NaN  NaN  NaN
569 -0.117283 -0.086578 -0.572035 -0.116888  NaN  NaN  NaN
..        {\ldots}       {\ldots}       {\ldots}       {\ldots}  {\ldots}  {\ldots}  {\ldots}
456 -0.196599  0.075892 -0.656934 -0.149515  NaN  NaN  NaN
97  -0.099632 -0.076870 -0.698475 -0.049948  NaN  NaN  NaN
150 -0.262033  0.504659 -0.592551 -0.255958  NaN  NaN  NaN
654 -0.170190  0.300784 -0.705749 -0.184726  NaN  NaN  NaN
95  -0.040917 -0.074379 -0.629640  0.022101  NaN  NaN  NaN

[700 rows x 63 columns]
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{trenowanie-klasyfikujux105cych-modeli-uczenia-maszynowego}{%
\section{4. Trenowanie Klasyfikujących Modeli Uczenia
Maszynowego}\label{trenowanie-klasyfikujux105cych-modeli-uczenia-maszynowego}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{52}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{pipeline} \PY{k+kn}{import} \PY{n}{make\PYZus{}pipeline}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{preprocessing} \PY{k+kn}{import} \PY{n}{StandardScaler}

\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{linear\PYZus{}model} \PY{k+kn}{import} \PY{n}{LogisticRegression}\PY{p}{,} \PY{n}{RidgeClassifier}\PY{p}{,} \PY{n}{SGDClassifier}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{ensemble} \PY{k+kn}{import} \PY{n}{RandomForestClassifier}\PY{p}{,} \PY{n}{GradientBoostingClassifier}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{neural\PYZus{}network} \PY{k+kn}{import} \PY{n}{MLPClassifier}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{neighbors} \PY{k+kn}{import} \PY{n}{NearestCentroid}
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{tree} \PY{k+kn}{import} \PY{n}{DecisionTreeClassifier}
\end{Verbatim}
\end{tcolorbox}

    Tworzymy słownik przechowywujący 4 metody uczenie maszynowego wraz z
metodą normalizacji.

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{53}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pipelines} \PY{o}{=} \PY{p}{\PYZob{}}
    \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{lr}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{n}{make\PYZus{}pipeline}\PY{p}{(}\PY{n}{StandardScaler}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{LogisticRegression}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,}
    \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{nc}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{n}{make\PYZus{}pipeline}\PY{p}{(}\PY{n}{StandardScaler}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{NearestCentroid}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,}
    \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{dt}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{n}{make\PYZus{}pipeline}\PY{p}{(}\PY{n}{StandardScaler}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{DecisionTreeClassifier}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,}
    \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{n}{make\PYZus{}pipeline}\PY{p}{(}\PY{n}{StandardScaler}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{RidgeClassifier}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,}
    \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rf}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{n}{make\PYZus{}pipeline}\PY{p}{(}\PY{n}{StandardScaler}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{RandomForestClassifier}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,}
    \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{gd}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{n}{make\PYZus{}pipeline}\PY{p}{(}\PY{n}{StandardScaler}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{SGDClassifier}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,}
    \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{gb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{n}{make\PYZus{}pipeline}\PY{p}{(}\PY{n}{StandardScaler}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{GradientBoostingClassifier}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,}
    \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{nn}\PY{l+s+s1}{\PYZsq{}}\PY{p}{:}\PY{n}{make\PYZus{}pipeline}\PY{p}{(}\PY{n}{StandardScaler}\PY{p}{(}\PY{p}{)}\PY{p}{,} \PY{n}{MLPClassifier}\PY{p}{(}\PY{p}{)}\PY{p}{)}\PY{p}{,}
\PY{p}{\PYZcb{}}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{33}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{y\PYZus{}train}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{33}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
295    fist
296    fist
117    fist
422    fist
569    open
       {\ldots}
456    fist
97     fist
150    fist
654    open
95     fist
Name: class, Length: 700, dtype: object
\end{Verbatim}
\end{tcolorbox}
        
    Trenujemy 4 różne modele jednocześnie.

!!! PRZETESTOWAĆ INNE METODY !!!

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{62}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{fit\PYZus{}models} \PY{o}{=} \PY{p}{\PYZob{}}\PY{p}{\PYZcb{}}

\PY{k}{for} \PY{n}{algorithm}\PY{p}{,} \PY{n}{pipeline} \PY{o+ow}{in} \PY{n}{pipelines}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{:}
    \PY{n}{model} \PY{o}{=} \PY{n}{pipeline}\PY{o}{.}\PY{n}{fit}\PY{p}{(}\PY{n}{x\PYZus{}train}\PY{p}{,} \PY{n}{y\PYZus{}train}\PY{p}{)}
    \PY{n}{fit\PYZus{}models}\PY{p}{[}\PY{n}{algorithm}\PY{p}{]} \PY{o}{=} \PY{n}{model}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{64}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{fit\PYZus{}models}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rf}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{x\PYZus{}test}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{64}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
array(['open', 'open', 'open', 'fist', 'open', 'open', 'open', 'fist',
       'open', 'fist', 'open', 'open', 'fist', 'open', 'fist', 'fist',
       'fist', 'fist', 'open', 'fist', 'open', 'fist', 'open', 'fist',
       'open', 'fist', 'fist', 'fist', 'fist', 'fist', 'open', 'fist',
       'fist', 'open', 'fist', 'open', 'fist', 'open', 'fist', 'open',
       'open', 'open', 'fist', 'fist', 'fist', 'fist', 'open', 'fist',
       'fist', 'fist', 'open', 'open', 'open', 'fist', 'fist', 'open',
       'fist', 'fist', 'open', 'open', 'fist', 'fist', 'open', 'fist',
       'fist', 'fist', 'open', 'open', 'fist', 'open', 'fist', 'open',
       'fist', 'open', 'open', 'open', 'open', 'open', 'open', 'open',
       'open', 'fist', 'open', 'fist', 'open', 'fist', 'fist', 'fist',
       'fist', 'open', 'fist', 'open', 'open', 'open', 'open', 'fist',
       'open', 'open', 'open', 'open', 'open', 'open', 'open', 'open',
       'open', 'fist', 'open', 'open', 'open', 'open', 'open', 'fist',
       'fist', 'open', 'fist', 'open', 'open', 'open', 'fist', 'open',
       'fist', 'open', 'fist', 'open', 'fist', 'open', 'open', 'fist',
       'fist', 'fist', 'open', 'open', 'open', 'open', 'fist', 'open',
       'open', 'fist', 'open', 'fist', 'open', 'open', 'open', 'fist',
       'fist', 'open', 'fist', 'fist', 'open', 'fist', 'open', 'open',
       'open', 'open', 'fist', 'fist', 'open', 'fist', 'fist', 'fist',
       'open', 'fist', 'open', 'open', 'fist', 'open', 'fist', 'open',
       'open', 'fist', 'fist', 'fist', 'fist', 'open', 'fist', 'fist',
       'open', 'fist', 'open', 'fist', 'fist', 'fist', 'fist', 'open',
       'open', 'fist', 'open', 'open', 'open', 'fist', 'fist', 'open',
       'open', 'open', 'open', 'open', 'fist', 'open', 'fist', 'fist',
       'fist', 'open', 'open', 'open', 'fist', 'fist', 'open', 'open',
       'fist', 'fist', 'open', 'open', 'open', 'open', 'fist', 'open',
       'fist', 'open', 'open', 'open', 'open', 'open', 'fist', 'open',
       'fist', 'open', 'open', 'fist', 'fist', 'fist', 'open', 'open',
       'fist', 'open', 'open', 'fist', 'fist', 'open', 'fist', 'open',
       'open', 'open', 'open', 'fist', 'fist', 'fist', 'fist', 'open',
       'fist', 'open', 'open', 'fist', 'open', 'open', 'open', 'fist',
       'fist', 'open', 'fist', 'open', 'fist', 'open', 'fist', 'fist',
       'open', 'fist', 'fist', 'fist', 'open', 'fist', 'fist', 'fist',
       'open', 'fist', 'fist', 'open', 'open', 'open', 'fist', 'open',
       'fist', 'fist', 'fist', 'fist', 'fist', 'fist', 'fist', 'open',
       'fist', 'fist', 'open', 'open', 'open', 'open', 'open', 'fist',
       'open', 'fist', 'fist', 'fist'], dtype=object)
\end{Verbatim}
\end{tcolorbox}
        
    \hypertarget{ewaluacja-modelu}{%
\section{5. Ewaluacja Modelu}\label{ewaluacja-modelu}}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{64}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{from} \PY{n+nn}{sklearn}\PY{n+nn}{.}\PY{n+nn}{metrics} \PY{k+kn}{import} \PY{n}{accuracy\PYZus{}score}
\PY{k+kn}{import} \PY{n+nn}{pickle}
\end{Verbatim}
\end{tcolorbox}

    Porównujemy dokładność każdego modelu wykorzystując funkcję
accuracy\_score

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{63}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{for} \PY{n}{algorithm}\PY{p}{,} \PY{n}{model} \PY{o+ow}{in} \PY{n}{fit\PYZus{}models}\PY{o}{.}\PY{n}{items}\PY{p}{(}\PY{p}{)}\PY{p}{:}
    \PY{n}{yhat} \PY{o}{=} \PY{n}{model}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{x\PYZus{}test}\PY{p}{)}
    \PY{n+nb}{print}\PY{p}{(}\PY{l+s+sa}{f}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+si}{\PYZob{}}\PY{n}{algorithm}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{, }\PY{l+s+si}{\PYZob{}}\PY{n+nb}{round}\PY{p}{(}\PY{n}{accuracy\PYZus{}score}\PY{p}{(}\PY{n}{y\PYZus{}test}\PY{p}{,} \PY{n}{yhat}\PY{p}{)}\PY{o}{*}\PY{l+m+mi}{100}\PY{p}{,}\PY{l+m+mi}{2}\PY{p}{)}\PY{l+s+si}{\PYZcb{}}\PY{l+s+s1}{\PYZpc{}}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
lr, 99.0\%
nc, 88.0\%
dt, 99.67\%
rd, 98.67\%
rf, 99.67\%
gd, 96.67\%
gb, 99.0\%
nn, 99.33\%
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{65}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{gesture\PYZus{}recognition.pkl}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{wb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
    \PY{n}{pickle}\PY{o}{.}\PY{n}{dump}\PY{p}{(}\PY{n}{fit\PYZus{}models}\PY{p}{[}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rf}\PY{l+s+s1}{\PYZsq{}}\PY{p}{]}\PY{p}{,} \PY{n}{f}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \hypertarget{detekcje}{%
\section{5. Detekcje}\label{detekcje}}

    Powtórnie ładujemy model.

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{66}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k}{with} \PY{n+nb}{open}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{gesture\PYZus{}recognition.pkl}\PY{l+s+s1}{\PYZsq{}}\PY{p}{,} \PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{rb}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)} \PY{k}{as} \PY{n}{f}\PY{p}{:}
    \PY{n}{model} \PY{o}{=} \PY{n}{pickle}\PY{o}{.}\PY{n}{load}\PY{p}{(}\PY{n}{f}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{49}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{model}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{49}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
Pipeline(steps=[('standardscaler', StandardScaler()),
                ('logisticregression', LogisticRegression())])
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{50}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{model}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{x\PYZus{}test}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{50}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
array(['open', 'open', 'open', 'fist', 'open', 'open', 'open', 'fist',
       'open', 'fist', 'open', 'open', 'fist', 'open', 'fist', 'fist',
       'fist', 'fist', 'open', 'fist', 'open', 'fist', 'open', 'fist',
       'open', 'fist', 'fist', 'fist', 'fist', 'fist', 'open', 'fist',
       'fist', 'open', 'fist', 'open', 'fist', 'open', 'fist', 'open',
       'open', 'fist', 'fist', 'fist', 'fist', 'fist', 'open', 'fist',
       'fist', 'fist', 'open', 'open', 'open', 'fist', 'fist', 'open',
       'fist', 'fist', 'open', 'open', 'fist', 'fist', 'open', 'fist',
       'fist', 'fist', 'open', 'open', 'fist', 'open', 'fist', 'open',
       'fist', 'open', 'open', 'open', 'open', 'open', 'open', 'open',
       'open', 'fist', 'open', 'fist', 'open', 'fist', 'fist', 'fist',
       'fist', 'open', 'fist', 'open', 'open', 'open', 'open', 'fist',
       'open', 'open', 'open', 'open', 'open', 'open', 'open', 'open',
       'open', 'fist', 'open', 'open', 'open', 'open', 'open', 'fist',
       'fist', 'open', 'fist', 'open', 'open', 'open', 'fist', 'open',
       'fist', 'open', 'fist', 'open', 'fist', 'open', 'open', 'fist',
       'fist', 'fist', 'open', 'open', 'open', 'open', 'fist', 'open',
       'open', 'fist', 'open', 'fist', 'open', 'fist', 'open', 'fist',
       'fist', 'open', 'fist', 'fist', 'open', 'fist', 'open', 'open',
       'open', 'fist', 'fist', 'fist', 'open', 'fist', 'fist', 'fist',
       'open', 'fist', 'open', 'open', 'fist', 'open', 'fist', 'open',
       'open', 'fist', 'fist', 'fist', 'fist', 'open', 'fist', 'fist',
       'open', 'fist', 'open', 'fist', 'fist', 'fist', 'fist', 'open',
       'open', 'fist', 'open', 'open', 'open', 'fist', 'fist', 'open',
       'open', 'open', 'open', 'open', 'fist', 'open', 'fist', 'fist',
       'fist', 'open', 'open', 'open', 'fist', 'fist', 'open', 'open',
       'fist', 'fist', 'open', 'open', 'open', 'open', 'fist', 'open',
       'fist', 'open', 'open', 'open', 'open', 'open', 'fist', 'open',
       'fist', 'open', 'open', 'open', 'fist', 'fist', 'open', 'open',
       'fist', 'open', 'open', 'fist', 'fist', 'open', 'fist', 'open',
       'open', 'open', 'open', 'fist', 'fist', 'fist', 'fist', 'open',
       'fist', 'open', 'open', 'fist', 'open', 'open', 'open', 'fist',
       'fist', 'open', 'fist', 'open', 'fist', 'open', 'fist', 'fist',
       'open', 'fist', 'open', 'fist', 'open', 'fist', 'fist', 'fist',
       'open', 'fist', 'fist', 'open', 'open', 'open', 'fist', 'open',
       'fist', 'fist', 'fist', 'fist', 'fist', 'fist', 'fist', 'open',
       'fist', 'fist', 'open', 'open', 'open', 'open', 'open', 'fist',
       'open', 'fist', 'fist', 'fist'], dtype=object)
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{51}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{n}{x\PYZus{}test}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

            \begin{tcolorbox}[breakable, size=fbox, boxrule=.5pt, pad at break*=1mm, opacityfill=0]
\prompt{Out}{outcolor}{51}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
           x1        y1        z1        x2        y2        z2        x3  \textbackslash{}
311 -0.122366  0.154571 -0.031917 -0.199848  0.348932 -0.042279 -0.261205
472 -0.120036 -0.118734 -0.029220 -0.216168 -0.285095 -0.058979 -0.286563
387 -0.018149 -0.325881 -0.009420  0.062272 -0.614014 -0.007430  0.150967
560 -0.289820  0.108541 -0.205375 -0.734906 -0.080346 -0.264466 -0.946463
423 -0.117827 -0.138752 -0.033318 -0.211735 -0.323980 -0.066010 -0.290154
..        {\ldots}       {\ldots}       {\ldots}       {\ldots}       {\ldots}       {\ldots}       {\ldots}
766  0.106971 -0.360454  0.092596  0.081788 -0.660642  0.103109 -0.037583
181  0.210523  0.083584 -0.035197  0.428733  0.052988 -0.064152  0.603579
896 -0.284715 -0.232632  0.005019 -0.449822 -0.521568 -0.017280 -0.466985
637 -0.300201  0.012477 -0.129525 -0.658218 -0.200261 -0.237174 -0.849936
765  0.032872 -0.372588  0.102737 -0.045548 -0.657220  0.114579 -0.167819

           y3        z3        x4  {\ldots}       z17       x18       y18  \textbackslash{}
311  0.517757 -0.050960 -0.327744  {\ldots} -0.003933  0.232572  0.484272
472 -0.416182 -0.097176 -0.357530  {\ldots} -0.132790  0.215612 -0.546907
387 -0.824606 -0.017904  0.192865  {\ldots} -0.034878  0.672843 -0.164905
560 -0.400162 -0.294812 -0.861793  {\ldots}  0.026708 -0.162364 -1.000000
423 -0.462984 -0.106554 -0.373721  {\ldots} -0.126488  0.336963 -0.495040
..        {\ldots}       {\ldots}       {\ldots}  {\ldots}       {\ldots}       {\ldots}       {\ldots}
766 -0.805570  0.092885 -0.151875  {\ldots} -0.126584 -0.328395 -0.709786
181  0.009858 -0.095681  0.747452  {\ldots} -0.142963  0.289274 -0.735975
896 -0.781971 -0.079262 -0.379222  {\ldots} -0.252696  0.082159 -0.875625
637 -0.453128 -0.338899 -0.803452  {\ldots} -0.243938 -0.012868 -0.759016
765 -0.788998  0.099934 -0.262368  {\ldots} -0.145308 -0.441985 -0.628679

          z18       x19       y19       z19       x20       y20       z20
311 -0.016964  0.259329  0.536242 -0.026011  0.283341  0.584262 -0.032395
472 -0.171076  0.242087 -0.638599 -0.188892  0.254576 -0.727021 -0.201592
387 -0.062415  0.775462 -0.187457 -0.075748  0.870415 -0.223513 -0.079016
560 -0.044242 -0.080222 -0.733392 -0.014111 -0.096771 -0.623113  0.046288
423 -0.167951  0.411554 -0.564842 -0.191383  0.474222 -0.633846 -0.208356
..        {\ldots}       {\ldots}       {\ldots}       {\ldots}       {\ldots}       {\ldots}       {\ldots}
766 -0.071641 -0.302990 -0.609321 -0.037710 -0.262762 -0.541080 -0.025406
181 -0.197838  0.332259 -0.869786 -0.231096  0.372779 -0.984128 -0.254844
896 -0.313326  0.076459 -0.670760 -0.265768  0.146113 -0.561699 -0.207085
637 -0.292509  0.006543 -0.533807 -0.265404 -0.017603 -0.560098 -0.232358
765 -0.095732 -0.405659 -0.526059 -0.059475 -0.349275 -0.466140 -0.044703

[300 rows x 60 columns]
\end{Verbatim}
\end{tcolorbox}
        
    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{68}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{k+kn}{import} \PY{n+nn}{warnings}
\end{Verbatim}
\end{tcolorbox}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{74}{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{cap} \PY{o}{=} \PY{n}{cv2}\PY{o}{.}\PY{n}{VideoCapture}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{)}

\PY{n}{detections} \PY{o}{=} \PY{l+m+mi}{0}
\PY{k}{with} \PY{n}{mp\PYZus{}hands}\PY{o}{.}\PY{n}{Hands}\PY{p}{(}\PY{n}{min\PYZus{}detection\PYZus{}confidence}\PY{o}{=}\PY{l+m+mf}{0.8}\PY{p}{,} \PY{n}{min\PYZus{}tracking\PYZus{}confidence}\PY{o}{=}\PY{l+m+mf}{0.5}\PY{p}{)} \PY{k}{as} \PY{n}{hands}\PY{p}{:}
    \PY{k}{while} \PY{n}{cap}\PY{o}{.}\PY{n}{isOpened}\PY{p}{(}\PY{p}{)}\PY{p}{:}
        \PY{n}{ret}\PY{p}{,} \PY{n}{frame} \PY{o}{=} \PY{n}{cap}\PY{o}{.}\PY{n}{read}\PY{p}{(}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}BGR to RGB}
        \PY{n}{image} \PY{o}{=} \PY{n}{cv2}\PY{o}{.}\PY{n}{cvtColor}\PY{p}{(}\PY{n}{frame}\PY{p}{,} \PY{n}{cv2}\PY{o}{.}\PY{n}{COLOR\PYZus{}BGR2RGB}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}Flip horizontal}
        \PY{n}{image} \PY{o}{=} \PY{n}{cv2}\PY{o}{.}\PY{n}{flip}\PY{p}{(}\PY{n}{image}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}Set flag}
        \PY{n}{image}\PY{o}{.}\PY{n}{flags}\PY{o}{.}\PY{n}{writeable} \PY{o}{=} \PY{k+kc}{False}
        
        \PY{c+c1}{\PYZsh{}Detections}
        \PY{n}{results} \PY{o}{=} \PY{n}{hands}\PY{o}{.}\PY{n}{process}\PY{p}{(}\PY{n}{image}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}Set flag back to True}
        \PY{n}{image}\PY{o}{.}\PY{n}{flags}\PY{o}{.}\PY{n}{writeable} \PY{o}{=} \PY{k+kc}{True}
        
        \PY{c+c1}{\PYZsh{}RGB to BGR}
        \PY{n}{image} \PY{o}{=} \PY{n}{cv2}\PY{o}{.}\PY{n}{cvtColor}\PY{p}{(}\PY{n}{image}\PY{p}{,} \PY{n}{cv2}\PY{o}{.}\PY{n}{COLOR\PYZus{}RGB2BGR}\PY{p}{)}
        
        \PY{c+c1}{\PYZsh{}Rendering results}
        \PY{k}{if} \PY{n}{results}\PY{o}{.}\PY{n}{multi\PYZus{}hand\PYZus{}landmarks}\PY{p}{:}
            \PY{k}{for} \PY{n}{num}\PY{p}{,} \PY{n}{hand} \PY{o+ow}{in} \PY{n+nb}{enumerate}\PY{p}{(}\PY{n}{results}\PY{o}{.}\PY{n}{multi\PYZus{}hand\PYZus{}landmarks}\PY{p}{)}\PY{p}{:}
                \PY{n}{mp\PYZus{}drawing}\PY{o}{.}\PY{n}{draw\PYZus{}landmarks}\PY{p}{(}\PY{n}{image}\PY{p}{,} \PY{n}{hand}\PY{p}{,} \PY{n}{mp\PYZus{}hands}\PY{o}{.}\PY{n}{HAND\PYZus{}CONNECTIONS}\PY{p}{,} 
                                         \PY{n}{mp\PYZus{}drawing}\PY{o}{.}\PY{n}{DrawingSpec}\PY{p}{(}\PY{n}{color}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{255}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{)}\PY{p}{,} \PY{n}{thickness}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{,} \PY{n}{circle\PYZus{}radius}\PY{o}{=}\PY{l+m+mi}{4}\PY{p}{)}\PY{p}{,} 
                                         \PY{n}{mp\PYZus{}drawing}\PY{o}{.}\PY{n}{DrawingSpec}\PY{p}{(}\PY{n}{color}\PY{o}{=}\PY{p}{(}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{0}\PY{p}{,}\PY{l+m+mi}{255}\PY{p}{)}\PY{p}{,} \PY{n}{thickness}\PY{o}{=}\PY{l+m+mi}{2}\PY{p}{,} \PY{n}{circle\PYZus{}radius}\PY{o}{=}\PY{l+m+mi}{4}\PY{p}{)}\PY{p}{)}
                
        \PY{k}{try}\PY{p}{:}
            \PY{n}{hand\PYZus{}landmarks} \PY{o}{=} \PY{n}{results}\PY{o}{.}\PY{n}{multi\PYZus{}hand\PYZus{}landmarks}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{o}{.}\PY{n}{landmark}
            \PY{n}{wrist} \PY{o}{=} \PY{n}{hand\PYZus{}landmarks}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}
                
            \PY{n}{hand\PYZus{}landmarks\PYZus{}row} \PY{o}{=} \PY{n}{np}\PY{o}{.}\PY{n}{zeros}\PY{p}{(}\PY{p}{(}\PY{l+m+mi}{20}\PY{p}{,}\PY{l+m+mi}{3}\PY{p}{)}\PY{p}{)}
            \PY{k}{for} \PY{n}{i} \PY{o+ow}{in} \PY{n+nb}{range}\PY{p}{(}\PY{l+m+mi}{1}\PY{p}{,} \PY{n+nb}{len}\PY{p}{(}\PY{n}{hand\PYZus{}landmarks}\PY{p}{)}\PY{p}{)}\PY{p}{:}
                \PY{n}{hand\PYZus{}landmarks\PYZus{}row}\PY{p}{[}\PY{n}{i}\PY{o}{\PYZhy{}}\PY{l+m+mi}{1}\PY{p}{]}\PY{o}{=}\PY{p}{[}\PY{n}{hand\PYZus{}landmarks}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{x}\PY{o}{\PYZhy{}}\PY{n}{wrist}\PY{o}{.}\PY{n}{x}\PY{p}{,} \PY{n}{hand\PYZus{}landmarks}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{y}\PY{o}{\PYZhy{}}\PY{n}{wrist}\PY{o}{.}\PY{n}{y}\PY{p}{,} \PY{n}{hand\PYZus{}landmarks}\PY{p}{[}\PY{n}{i}\PY{p}{]}\PY{o}{.}\PY{n}{z}\PY{o}{\PYZhy{}}\PY{n}{wrist}\PY{o}{.}\PY{n}{z}\PY{p}{]}
                
            \PY{c+c1}{\PYZsh{} print(hand\PYZus{}landmarks\PYZus{}row)}
            \PY{n}{hand\PYZus{}landmarks\PYZus{}row} \PY{o}{=} \PY{n}{hand\PYZus{}landmarks\PYZus{}row}\PY{o}{.}\PY{n}{flatten}\PY{p}{(}\PY{p}{)}
            \PY{n}{hand\PYZus{}landmarks\PYZus{}row} \PY{o}{=} \PY{n+nb}{list}\PY{p}{(}\PY{n}{hand\PYZus{}landmarks\PYZus{}row}\PY{o}{/}\PY{n}{np}\PY{o}{.}\PY{n}{max}\PY{p}{(}\PY{n}{np}\PY{o}{.}\PY{n}{absolute}\PY{p}{(}\PY{n}{hand\PYZus{}landmarks\PYZus{}row}\PY{p}{)}\PY{p}{)}\PY{p}{)}
            
            \PY{c+c1}{\PYZsh{}Make Detections}
            \PY{n}{x} \PY{o}{=} \PY{n}{pd}\PY{o}{.}\PY{n}{DataFrame}\PY{p}{(}\PY{p}{[}\PY{n}{hand\PYZus{}landmarks\PYZus{}row}\PY{p}{]}\PY{p}{)}

            \PY{k}{with} \PY{n}{warnings}\PY{o}{.}\PY{n}{catch\PYZus{}warnings}\PY{p}{(}\PY{p}{)}\PY{p}{:}
                \PY{n}{warnings}\PY{o}{.}\PY{n}{filterwarnings}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{ignore}\PY{l+s+s2}{\PYZdq{}}\PY{p}{)}
                \PY{n}{gesture} \PY{o}{=} \PY{n+nb}{str}\PY{p}{(}\PY{n}{model}\PY{o}{.}\PY{n}{predict}\PY{p}{(}\PY{n}{x}\PY{p}{)}\PY{p}{[}\PY{l+m+mi}{0}\PY{p}{]}\PY{p}{)}
                \PY{n}{cv2}\PY{o}{.}\PY{n}{putText}\PY{p}{(}\PY{n}{image}\PY{p}{,} \PY{n}{gesture}\PY{p}{,} \PY{p}{(}\PY{l+m+mi}{10}\PY{p}{,}\PY{l+m+mi}{20}\PY{p}{)}\PY{p}{,} \PY{n}{cv2}\PY{o}{.}\PY{n}{FONT\PYZus{}HERSHEY\PYZus{}SIMPLEX}\PY{p}{,} \PY{l+m+mi}{1}\PY{p}{,} \PY{p}{(}\PY{l+m+mi}{255}\PY{p}{,}\PY{l+m+mi}{255}\PY{p}{,}\PY{l+m+mi}{255}\PY{p}{)}\PY{p}{,} \PY{l+m+mi}{2}\PY{p}{,} \PY{n}{cv2}\PY{o}{.}\PY{n}{LINE\PYZus{}AA}\PY{p}{)}

        \PY{k}{except}\PY{p}{:}
            \PY{k}{pass}
        

        \PY{c+c1}{\PYZsh{}image = cv2.flip(image, 0)}
        \PY{n}{cv2}\PY{o}{.}\PY{n}{imshow}\PY{p}{(}\PY{l+s+s2}{\PYZdq{}}\PY{l+s+s2}{Hand Tracking}\PY{l+s+s2}{\PYZdq{}}\PY{p}{,} \PY{n}{image}\PY{p}{)}

        \PY{k}{if} \PY{n}{cv2}\PY{o}{.}\PY{n}{waitKey}\PY{p}{(}\PY{l+m+mi}{10}\PY{p}{)} \PY{o}{\PYZam{}} \PY{l+m+mh}{0xFF} \PY{o}{==} \PY{n+nb}{ord}\PY{p}{(}\PY{l+s+s1}{\PYZsq{}}\PY{l+s+s1}{q}\PY{l+s+s1}{\PYZsq{}}\PY{p}{)}\PY{p}{:}
            \PY{k}{break}
    \PY{n+nb}{print}\PY{p}{(}\PY{n}{image}\PY{o}{.}\PY{n}{shape}\PY{p}{)}

    \PY{n}{cap}\PY{o}{.}\PY{n}{release}\PY{p}{(}\PY{p}{)}
    \PY{n}{cv2}\PY{o}{.}\PY{n}{destroyAllWindows}\PY{p}{(}\PY{p}{)}
\end{Verbatim}
\end{tcolorbox}

    \begin{Verbatim}[commandchars=\\\{\}]
(480, 640, 3)
    \end{Verbatim}

    \begin{tcolorbox}[breakable, size=fbox, boxrule=1pt, pad at break*=1mm,colback=cellbackground, colframe=cellborder]
\prompt{In}{incolor}{ }{\boxspacing}
\begin{Verbatim}[commandchars=\\\{\}]
\PY{n}{hand\PYZus{}landmarks\PYZus{}row}
\end{Verbatim}
\end{tcolorbox}


    % Add a bibliography block to the postdoc
    
    
    
\end{document}
